# UI Specification

> Auto-generated from UI components in `platforms/macos/`.

**Platforms:** macOS (SwiftUI), Windows (WPF), Linux (Fcitx5)

---

## 1. Overview

### 1.1 Design Principles

- Minimal, non-intrusive UI
- Native platform look and feel
- Dark/Light mode support
- Accessibility-first (keyboard navigation)

### 1.2 Screen Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        macOS App Flow                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   First Run                   Normal Flow                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚Onboardingâ”‚â”€â”€completeâ”€â”€â”€â–º â”‚Menu Bar â”‚                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                       â”‚
â”‚                                   â”‚                            â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                    â–¼              â–¼              â–¼             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚              â”‚Settings â”‚   â”‚  About  â”‚    â”‚ Update  â”‚         â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Screens

### S-01: Menu Bar (macOS)

**File:** `MenuBar.swift`
**Type:** NSStatusBarItem

#### Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‡»ğŸ‡³ â–¼                         â”‚  â† Status icon (Vietnamese flag)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ Báº­t GÃµ Nhanh          âŒƒSpaceâ”‚  â† Enable toggle + hotkey
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â— Telex                      â”‚  â† Input method selector
â”‚   â—‹ VNI                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   CÃ i Ä‘áº·t...                   â”‚
â”‚   Giá»›i thiá»‡u...                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Kiá»ƒm tra cáº­p nháº­t...         â”‚
â”‚   ThoÃ¡t                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### States

| State | Icon | Description |
|-------|------|-------------|
| Enabled | ğŸ‡»ğŸ‡³ | Vietnamese mode active |
| Disabled | âŒ¨ï¸ | Pass-through mode |
| Updating | ğŸ”„ | Update in progress |

---

### S-02: Settings (macOS)

**File:** `MainSettingsView.swift`
**Type:** SwiftUI Window

#### Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—â”‚
â”‚ â•‘                         CÃ i Ä‘áº·t                               â•‘â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€ Kiá»ƒu gÃµ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  [â—] Telex    [â—‹] VNI                                         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€ TÃ¹y chá»n â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  [âœ“] Nhá»› tráº¡ng thÃ¡i theo á»©ng dá»¥ng                             â”‚â”‚
â”‚ â”‚  [âœ“] Tá»± Ä‘á»™ng viáº¿t hoa Ä‘áº§u cÃ¢u                                 â”‚â”‚
â”‚ â”‚  [âœ“] Tá»± Ä‘á»™ng khÃ´i phá»¥c tiáº¿ng Anh                              â”‚â”‚
â”‚ â”‚  [âœ“] Äáº·t dáº¥u kiá»ƒu má»›i (hoÃ , khoáº»)                             â”‚â”‚
â”‚ â”‚  [âœ“] PhÃ­m w â†’ Æ°                                               â”‚â”‚
â”‚ â”‚  [âœ“] PhÃ­m ] â†’ Æ°, [ â†’ Æ¡                                        â”‚â”‚
â”‚ â”‚  [âœ“] ESC khÃ´i phá»¥c                                            â”‚â”‚
â”‚ â”‚  [ ] GÃµ tá»± do (bá» kiá»ƒm tra chÃ­nh táº£)                          â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€ GÃµ táº¯t â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚ â”‚  â”‚ vn    â”‚ Viá»‡t Nam                              [XÃ³a]     â”‚  â”‚â”‚
â”‚ â”‚  â”‚ hcm   â”‚ Há»“ ChÃ­ Minh                           [XÃ³a]     â”‚  â”‚â”‚
â”‚ â”‚  â”‚ ->    â”‚ â†’                                     [XÃ³a]     â”‚  â”‚â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚ â”‚  [+ ThÃªm gÃµ táº¯t]                                              â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€ Há»‡ thá»‘ng â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  [âœ“] Khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng                                  â”‚â”‚
â”‚ â”‚  [âœ“] Ã‚m thanh khi báº­t/táº¯t                                     â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Components

| Component | Type | Binding |
|-----------|------|---------|
| Input Method | Picker | `AppState.currentMethod` |
| Per-App Mode | Toggle | `AppState.perAppModeEnabled` |
| Auto-Capitalize | Toggle | `AppState.autoCapitalize` |
| English Auto-Restore | Toggle | `AppState.englishAutoRestore` |
| Modern Tone | Toggle | `AppState.modernTone` |
| W Shortcut | Toggle | `AppState.autoWShortcut` |
| Bracket Shortcut | Toggle | `AppState.bracketShortcut` |
| ESC Restore | Toggle | `AppState.escRestore` |
| Free Tone | Toggle | `AppState.freeTone` |
| Shortcuts List | List | `AppState.shortcuts` |
| Launch at Login | Toggle | `LaunchAtLogin` |
| Sound Toggle | Toggle | `AppState.soundEnabled` |

---

### S-03: Onboarding (macOS)

**File:** `OnboardingView.swift`
**Type:** SwiftUI Window

#### Flow

```
Step 0: Welcome          Step 1: Permission        Step 2: Ready
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â”‚   â”‚                    â”‚   â”‚                    â”‚
â”‚     ğŸ‡»ğŸ‡³            â”‚   â”‚     ğŸ”            â”‚   â”‚     âœ…            â”‚
â”‚                    â”‚   â”‚                    â”‚   â”‚                    â”‚
â”‚   ChÃ o má»«ng Ä‘áº¿n    â”‚   â”‚ Cáº§n quyá»n          â”‚   â”‚ Sáºµn sÃ ng!         â”‚
â”‚   vá»›i GÃµ Nhanh     â”‚   â”‚ Accessibility      â”‚   â”‚                    â”‚
â”‚                    â”‚   â”‚                    â”‚   â”‚ Khá»Ÿi Ä‘á»™ng láº¡i     â”‚
â”‚   [Tiáº¿p tá»¥c]       â”‚   â”‚ [Má»Ÿ CÃ i Ä‘áº·t]       â”‚   â”‚ [Khá»Ÿi Ä‘á»™ng láº¡i]   â”‚
â”‚                    â”‚   â”‚                    â”‚   â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                        â†“                        â†“
       â—â—‹â—‹                      â—‹â—â—‹                      â—‹â—‹â—
```

#### Steps

| Step | Title | Action | Next Condition |
|------|-------|--------|----------------|
| 0 | Welcome | Show intro | Button click |
| 1 | Permission | Open System Settings | `AXIsProcessTrusted()` |
| 2 | Ready | Restart app | Button click |

---

### S-04: About (macOS)

**File:** `AboutView.swift`
**Type:** SwiftUI View

#### Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        â”‚
â”‚              [App Logo]                â”‚
â”‚                                        â”‚
â”‚              GÃµ Nhanh                  â”‚
â”‚     Bá»™ gÃµ tiáº¿ng Viá»‡t nhanh nháº¥t       â”‚
â”‚                                        â”‚
â”‚   Version 1.0.21    Build 42          â”‚
â”‚                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Developer:  Kha Phan                   â”‚
â”‚ Contact:    nhatkha1407@gmail.com      â”‚
â”‚ Built with: Rust + SwiftUI             â”‚
â”‚ License:    BSD-3-Clause               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚   [GitHub]  [Website]  [Sponsor]       â”‚
â”‚                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Â© 2025 GÃµ Nhanh Contributors          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### S-05: Update Dialog (macOS)

**File:** `UpdateView.swift`
**Type:** SwiftUI Window

#### States

```
Checking                  Available                 Up to Date
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â”‚   â”‚                    â”‚   â”‚                    â”‚
â”‚     ğŸ”„             â”‚   â”‚     ğŸ“¦            â”‚   â”‚     âœ…            â”‚
â”‚                    â”‚   â”‚                    â”‚   â”‚                    â”‚
â”‚ Äang kiá»ƒm tra...   â”‚   â”‚ PhiÃªn báº£n má»›i     â”‚   â”‚ Báº¡n Ä‘ang dÃ¹ng     â”‚
â”‚                    â”‚   â”‚ v1.0.22 cÃ³ sáºµn    â”‚   â”‚ phiÃªn báº£n má»›i nháº¥tâ”‚
â”‚                    â”‚   â”‚                    â”‚   â”‚                    â”‚
â”‚                    â”‚   â”‚ [Táº£i xuá»‘ng]        â”‚   â”‚ [OK]              â”‚
â”‚                    â”‚   â”‚ [Bá» qua]           â”‚   â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. User Journeys

### CJ-01: First-Time User

```
1. Download & Open app
   â†“
2. Onboarding: Welcome screen
   â†“ [Tiáº¿p tá»¥c]
3. Onboarding: Permission request
   â†“ [Má»Ÿ CÃ i Ä‘áº·t]
4. System Settings: Grant Accessibility
   â†“ (auto-detect)
5. Onboarding: Ready screen
   â†“ [Khá»Ÿi Ä‘á»™ng láº¡i]
6. App restarts â†’ Menu Bar visible
   â†“
7. Type Vietnamese text â†’ working
```

### CJ-02: Add Custom Shortcut

```
1. Click Menu Bar icon
   â†“
2. Select "CÃ i Ä‘áº·t..."
   â†“
3. Scroll to "GÃµ táº¯t" section
   â†“
4. Click [+ ThÃªm gÃµ táº¯t]
   â†“
5. Enter trigger: "tphcm"
   â†“
6. Enter replacement: "ThÃ nh phá»‘ Há»“ ChÃ­ Minh"
   â†“
7. Click [LÆ°u]
   â†“
8. Type "tphcm " â†’ expands automatically
```

### CJ-03: Toggle for Specific App

```
1. Focus on VS Code (with per-app mode on)
   â†“
2. Press Ctrl+Space
   â†“
3. Engine disabled for VS Code
   â†“
4. Switch to Slack
   â†“
5. Engine auto-enabled (separate state)
   â†“
6. Switch back to VS Code
   â†“
7. Engine still disabled (remembered)
```

---

## 4. Design Tokens

### Colors

| Token | Light | Dark |
|-------|-------|------|
| Background | #FFFFFF | #1E1E1E |
| Surface | #F5F5F5 | #2D2D2D |
| Primary | System Accent | System Accent |
| Text Primary | #000000 | #FFFFFF |
| Text Secondary | #666666 | #999999 |

### Typography

| Element | Font | Size |
|---------|------|------|
| Title | SF Pro Display | 24pt Bold |
| Heading | SF Pro Text | 14pt Semibold |
| Body | SF Pro Text | 13pt Regular |
| Caption | SF Pro Text | 11pt Regular |

### Spacing

| Token | Value |
|-------|-------|
| xs | 4px |
| sm | 8px |
| md | 16px |
| lg | 24px |
| xl | 32px |

---

## 5. Accessibility

### Keyboard Navigation

| Key | Action |
|-----|--------|
| Tab | Move focus |
| Space/Enter | Activate |
| Escape | Close dialog |
| âŒƒSpace | Toggle engine |

### VoiceOver Labels

| Component | Label |
|-----------|-------|
| Status Icon | "GÃµ Nhanh - {enabled/disabled}" |
| Enable Toggle | "Báº­t GÃµ Nhanh" |
| Method Picker | "Chá»n kiá»ƒu gÃµ: {Telex/VNI}" |

---

## 6. Platform Variations

### Windows

- System tray icon instead of menu bar
- Settings in separate window
- Native WPF controls
- Registry-based persistence

### Linux

- Fcitx5 configuration panel
- No standalone UI
- System indicator integration
- File-based configuration

---

## Changelog

- **2026-01-11**: Initial generation from macOS UI components
