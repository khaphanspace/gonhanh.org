<Window x:Class="GoNhanh.Views.OnboardingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chào mừng đến Gõ Nhanh"
        Height="460" Width="460"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="White">

    <Window.Resources>
        <!-- Mode Option Style (like macOS ModeOption) -->
        <Style x:Key="ModeOptionButton" TargetType="Button">
            <Setter Property="Background" Value="#FAFAFA"/>
            <Setter Property="BorderBrush" Value="#E5E7EB"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8"
                                Padding="14,10">
                            <ContentPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#F3F4F6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Page Container -->
        <TabControl x:Name="PageTabs"
                    Grid.Row="0"
                    BorderThickness="0"
                    Background="Transparent"
                    Padding="0">
            <TabControl.ItemContainerStyle>
                <Style TargetType="TabItem">
                    <Setter Property="Visibility" Value="Collapsed"/>
                </Style>
            </TabControl.ItemContainerStyle>

            <!-- Page 1: Welcome -->
            <TabItem>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Margin="40">
                    <!-- App Icon -->
                    <Border Width="80" Height="80"
                            Background="{StaticResource PrimaryBrush}"
                            CornerRadius="16"
                            HorizontalAlignment="Center">
                        <TextBlock Text="V"
                                   FontSize="40"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>

                    <TextBlock Text="Chào mừng đến với Gõ Nhanh"
                               FontSize="20"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               Margin="0,16,0,0"/>

                    <TextBlock Text="Bộ gõ tiếng Việt hiệu suất cao"
                               FontSize="14"
                               Foreground="{StaticResource SecondaryTextBrush}"
                               HorizontalAlignment="Center"
                               Margin="0,8,0,0"/>
                </StackPanel>
            </TabItem>

            <!-- Page 2: Select Input Method (like macOS SetupStep) -->
            <TabItem>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Margin="40">
                    <!-- Icon -->
                    <Border Width="56" Height="56"
                            Background="#EBF5FF"
                            CornerRadius="28"
                            HorizontalAlignment="Center">
                        <TextBlock Text="&#xE765;"
                                   FontFamily="Segoe MDL2 Assets"
                                   FontSize="24"
                                   Foreground="{StaticResource PrimaryBrush}"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>

                    <TextBlock Text="Chọn kiểu gõ"
                               FontSize="20"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               Margin="0,16,0,0"/>

                    <TextBlock Text="Có thể thay đổi sau trong menu."
                               FontSize="13"
                               Foreground="{StaticResource SecondaryTextBrush}"
                               HorizontalAlignment="Center"
                               Margin="0,6,0,0"/>

                    <!-- Mode Options (like macOS ModeOption) -->
                    <StackPanel Width="280" Margin="0,20,0,0">
                        <!-- Telex Option -->
                        <Button x:Name="TelexButton"
                                Style="{StaticResource ModeOptionButton}"
                                Click="SelectTelex_Click"
                                Margin="0,0,0,8">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Telex"
                                               FontSize="14"
                                               FontWeight="SemiBold"/>
                                    <TextBlock Text="aw, ow, w, s, f, r, x, j"
                                               FontSize="12"
                                               Foreground="{StaticResource SecondaryTextBrush}"
                                               Margin="0,2,0,0"/>
                                </StackPanel>
                                <TextBlock x:Name="TelexCheck"
                                           Grid.Column="1"
                                           Text="&#xE73E;"
                                           FontFamily="Segoe MDL2 Assets"
                                           FontSize="20"
                                           Foreground="{StaticResource PrimaryBrush}"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </Button>

                        <!-- VNI Option -->
                        <Button x:Name="VniButton"
                                Style="{StaticResource ModeOptionButton}"
                                Click="SelectVni_Click">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="VNI"
                                               FontSize="14"
                                               FontWeight="SemiBold"/>
                                    <TextBlock Text="a8, o9, 1-5"
                                               FontSize="12"
                                               Foreground="{StaticResource SecondaryTextBrush}"
                                               Margin="0,2,0,0"/>
                                </StackPanel>
                                <TextBlock x:Name="VniCheck"
                                           Grid.Column="1"
                                           Text="&#xE73E;"
                                           FontFamily="Segoe MDL2 Assets"
                                           FontSize="20"
                                           Foreground="#D1D5DB"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </Button>
                    </StackPanel>

                    <!-- Hidden radio buttons for state management -->
                    <RadioButton x:Name="OnboardTelexRadio" Visibility="Collapsed" IsChecked="True"/>
                    <RadioButton x:Name="OnboardVniRadio" Visibility="Collapsed"/>
                </StackPanel>
            </TabItem>

            <!-- Page 3: Done (like macOS SuccessStep) -->
            <TabItem>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Margin="40">
                    <!-- Success Icon -->
                    <Border Width="56" Height="56"
                            Background="#DCFCE7"
                            CornerRadius="28"
                            HorizontalAlignment="Center">
                        <TextBlock Text="&#xE73E;"
                                   FontFamily="Segoe MDL2 Assets"
                                   FontSize="28"
                                   Foreground="#22C55E"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>

                    <TextBlock Text="Sẵn sàng hoạt động"
                               FontSize="20"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               Margin="0,16,0,0"/>

                    <TextBlock Text="Gõ Nhanh đang chạy trong khay hệ thống."
                               FontSize="13"
                               Foreground="{StaticResource SecondaryTextBrush}"
                               HorizontalAlignment="Center"
                               Margin="0,6,0,0"/>

                    <!-- Tips -->
                    <Border Background="#F9FAFB"
                            CornerRadius="8"
                            Padding="16"
                            Margin="0,24,0,0"
                            MaxWidth="300">
                        <StackPanel>
                            <TextBlock FontSize="12" Foreground="{StaticResource TextBrush}" TextWrapping="Wrap">
                                <Run FontWeight="SemiBold">Mẹo:</Run>
                                <Run Text=" Nhấp chuột phải vào biểu tượng "/>
                                <Run Text="V" FontWeight="Bold" Foreground="{StaticResource PrimaryBrush}"/>
                                <Run Text=" để đổi kiểu gõ hoặc bật/tắt."/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- Footer (like macOS footer) -->
        <Border Grid.Row="1"
                BorderBrush="#F3F4F6"
                BorderThickness="0,1,0,0"
                Padding="20,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Page Indicator -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <Ellipse x:Name="Dot1" Width="6" Height="6" Fill="{StaticResource PrimaryBrush}" Margin="3,0"/>
                    <Ellipse x:Name="Dot2" Width="6" Height="6" Fill="#D1D5DB" Margin="3,0"/>
                    <Ellipse x:Name="Dot3" Width="6" Height="6" Fill="#D1D5DB" Margin="3,0"/>
                </StackPanel>

                <!-- Navigation Buttons -->
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button x:Name="BackButton"
                            Content="Quay lại"
                            Padding="12,6"
                            Margin="0,0,8,0"
                            Visibility="Collapsed"
                            Click="PrevPage_Click"/>
                    <Button x:Name="NextButton"
                            Content="Tiếp tục"
                            Style="{StaticResource PrimaryButton}"
                            Padding="16,8"
                            Click="NextPage_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
