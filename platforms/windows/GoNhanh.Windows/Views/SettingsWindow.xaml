<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="GoNhanh.Views.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:GoNhanh.Controls"
    Title="Go Nhanh - Cai dat"
    Width="500" Height="700"
    MinWidth="400" MinHeight="500">

    <Grid Padding="24">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="24">

                <!-- Header -->
                <StackPanel Orientation="Horizontal" Spacing="16">
                    <Image Source="ms-appx:///Assets/Logo.png" Width="64" Height="64"/>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Go Nhanh" Style="{StaticResource TitleTextBlockStyle}"/>
                        <TextBlock x:Name="VersionText" Text="Phien ban 1.0.102" Style="{StaticResource CaptionTextBlockStyle}"/>
                        <TextBlock Text="Bo go tieng Viet hieu suat cao" Opacity="0.7"/>
                    </StackPanel>
                </StackPanel>

                <!-- Input Method Selection -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Kieu go" Style="{StaticResource SubtitleTextBlockStyle}"/>
                    <RadioButtons x:Name="InputMethodRadio" SelectedIndex="0">
                        <RadioButton Content="Telex (aa -> a, dd -> d, as -> a')" Tag="0"/>
                        <RadioButton Content="VNI (a6 -> a, d9 -> d, a1 -> a')" Tag="1"/>
                    </RadioButtons>
                </StackPanel>

                <!-- Toggle Shortcut -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Phim tat bat/tat" Style="{StaticResource SubtitleTextBlockStyle}"/>
                    <controls:ShortcutRecorder x:Name="ToggleShortcutRecorder"/>
                </StackPanel>

                <!-- Feature Toggles -->
                <StackPanel Spacing="12">
                    <TextBlock Text="Tinh nang" Style="{StaticResource SubtitleTextBlockStyle}"/>

                    <ToggleSwitch x:Name="SkipWShortcutToggle"
                        Header="Tat phim tat W -> U"
                        OffContent="Go 'w' thanh 'u'" OnContent="Giu nguyen 'w'"/>

                    <ToggleSwitch x:Name="BracketShortcutToggle"
                        Header="Phim tat ngoac [ ] -> o u"
                        OffContent="Tat" OnContent="[ -> o, ] -> u"/>

                    <ToggleSwitch x:Name="EscRestoreToggle"
                        Header="ESC khoi phuc van ban goc"
                        OffContent="Tat" OnContent="Bat"/>

                    <ToggleSwitch x:Name="FreeToneToggle"
                        Header="Dat dau tu do (khong kiem tra chinh ta)"
                        OffContent="Tat" OnContent="Bat"/>

                    <ToggleSwitch x:Name="ModernToneToggle"
                        Header="Kieu bo dau moi (hoa -> hoa, khong phai hoa)"
                        OffContent="Truyen thong" OnContent="Hien dai"/>

                    <ToggleSwitch x:Name="EnglishAutoRestoreToggle"
                        Header="Tu dong khoi phuc tieng Anh"
                        OffContent="Tat" OnContent="Bat"/>

                    <ToggleSwitch x:Name="AutoCapitalizeToggle"
                        Header="Tu dong viet hoa dau cau"
                        OffContent="Tat" OnContent="Bat"/>

                    <ToggleSwitch x:Name="SoundToggle"
                        Header="Am thanh khi go"
                        OffContent="Tat" OnContent="Bat"/>

                    <ToggleSwitch x:Name="LaunchAtStartupToggle"
                        Header="Khoi dong cung Windows"
                        OffContent="Tat" OnContent="Bat"/>
                </StackPanel>

                <!-- User Shortcuts -->
                <StackPanel Spacing="8">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="Go tat" Style="{StaticResource SubtitleTextBlockStyle}"
                            VerticalAlignment="Center"/>
                        <Button x:Name="AddShortcutButton" Content="+ Them" Click="AddShortcut_Click"/>
                    </StackPanel>

                    <ListView x:Name="ShortcutsList" SelectionMode="None">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <Grid Padding="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{Binding Trigger}"/>
                                    <TextBlock Grid.Column="1" Text="{Binding Replacement}"/>
                                    <Button Grid.Column="2" Content="Xoa" Tag="{Binding Trigger}"
                                        Click="DeleteShortcut_Click"/>
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
